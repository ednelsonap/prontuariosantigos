<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<ui:composition template="_template.xhtml">

	<ui:define name="titulo">
		<title>CADPA2</title>
	</ui:define>

	<ui:define name="conteudo">

		<div align="center">
		
			<p:fieldset legend="Pesquisa CadPa2">
					
					<h:form id="formPesquisaMae">
						<p:panelGrid columns="4" id="panelGridPesquisaMae">

							<p:outputLabel value="Nome Paciente:" for="nome" />
							<p:inputText id="nome" value="#{cadPa2Bean.nomePaciente}" required="true" requiredMessage="Preencha o campo nome"/>

							<p:commandButton value="Buscar" icon="fa fa-fw fa-search"
								action="#{cadPa2Bean.pesquisarPorNome}" ajax="false"
								process="@form"
								update=":formTabelaPacientes:tabelaPacientes" />

							<p:commandButton value="Limpar" icon="fa fa-fw fa-eraser"
								action="#{cadPa2Bean.limparPesquisaMae}" immediate="true" ajax="false"
								style="margin-right:20px;">
								<p:resetInput target="panelGridPesquisaMae" />

							</p:commandButton>
						</p:panelGrid>
					</h:form>	
						
			</p:fieldset>
		</div>

		<!-- TABELA RESULTADO DE PACIENTES PESQUISADOS -->

		<h:form id="formTabelaPacientes">

			<p:dataTable id="tabelaPacientes" var="paciente" 
				value="#{cadPa2Bean.cadPa2sFiltrados}"
				emptyMessage="Nenhum paciente encontrado" 
				paginator="true" rows="10"
				paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} registros"
                rowsPerPageTemplate="10,20,50,100" 
				style="margin-bottom:20px; text-align:center;">

				<f:facet name="header">
					CADPA2
				</f:facet>

				<p:column headerText="Código" style="width: 70px;">
					<h:outputText value="#{paciente.cadPac.codigoPaciente}" />
				</p:column>

				<p:column headerText="Paciente" style="width: 300px;" >
					<h:outputText value="#{paciente.cadPac.nome}" />
				</p:column>
				
				<p:column headerText="Mãe" style="width: 300px;" >
					<h:outputText value="#{paciente.maePaciente}" />
				</p:column>
				
				<p:column headerText="Data Nasc." style="width: 300px;" >
					<h:outputText value="#{paciente.cadPac.dataNascimento}" />
				</p:column>
				
				<p:column headerText="Sexo" style="width: 300px;" >
					<h:outputText value="#{paciente.cadPac.sexo}" />
				</p:column>
				
				<p:column headerText="Número de Pasta." style="width: 300px;" >
					<h:outputText value="#{paciente.cadPac.numeroPasta}" />
				</p:column>
				
			</p:dataTable>
			
		</h:form>
		
		<!-- JANELA DE DIÁLOGO COM OS DETALHES DO PACIENTE -->
		
		<!-- <h:form id="formDetalhes">
			<p:dialog header="Detalhes do Paciente"
				widgetVar="pacienteDialog" modal="true" showEffect="fade"
				hideEffect="fade" resizable="false" height="auto" width="auto" >
				<div align="center">
				<p:outputPanel id="pacienteDetalhes" style="text-align:center; font-size:10px; horizontal-align:center;" >
					<p:panelGrid columns="2"
						rendered="#{not empty cadPa2Bean.cadPa2}"
						columnClasses="label,value" style="text-align:center; horizontal-align:center;" >
						<f:facet name="header">

						</f:facet>
						
					<h:outputText value="Código" />
					<h:outputText value="#{cadPa2Bean.cadPa2.cadPac.codigoPaciente}" />
				
					<h:outputText value="Nome" />
					<h:outputText value="#{cadPa2Bean.cadPac.nome}" />
				
					</p:panelGrid>
				</p:outputPanel>
				</div>
			</p:dialog>
		</h:form> -->
	</ui:define>
</ui:composition>
</html>